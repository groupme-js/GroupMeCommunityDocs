
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Learn how to interact with GroupMe's Websocket Gateway via the API.">
      
      
      
        <link rel="canonical" href="https://groupme-js.github.io/GroupMeCommunityDocs/push/">
      
      
        <link rel="prev" href="../polls/">
      
      
        <link rel="next" href="../self/">
      
      
      <link rel="icon" href="../assets/sprocket.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Websocket Gateway - OpenGM API Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mona+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Mona Sans";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Websocket Gateway - OpenGM API Documentation" >
      
        <meta  property="og:description"  content="Learn how to interact with GroupMe's Websocket Gateway via the API." >
      
        <meta  property="og:image"  content="https://groupme-js.github.io/GroupMeCommunityDocs/assets/images/social/push.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://groupme-js.github.io/GroupMeCommunityDocs/push/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Websocket Gateway - OpenGM API Documentation" >
      
        <meta  name="twitter:description"  content="Learn how to interact with GroupMe's Websocket Gateway via the API." >
      
        <meta  name="twitter:image"  content="https://groupme-js.github.io/GroupMeCommunityDocs/assets/images/social/push.png" >
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#websockets-overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="OpenGM API Documentation" class="md-header__button md-logo" aria-label="OpenGM API Documentation" data-md-component="logo">
      
  
  <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   width="100mm"
   height="100mm"
   viewBox="0 0 100 100"
   version="1.1"
   id="svg1"
   xml:space="preserve"
   inkscape:version="1.4 (86a8ad7, 2024-10-11)"
   sodipodi:docname="sprocket.svg"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg"><sodipodi:namedview
     id="namedview1"
     pagecolor="#505050"
     bordercolor="#eeeeee"
     borderopacity="1"
     inkscape:showpageshadow="0"
     inkscape:pageopacity="0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#505050"
     inkscape:document-units="mm"
     inkscape:zoom="0.46268224"
     inkscape:cx="880.73404"
     inkscape:cy="958.54122"
     inkscape:window-width="3072"
     inkscape:window-height="1796"
     inkscape:window-x="-12"
     inkscape:window-y="-12"
     inkscape:window-maximized="1"
     inkscape:current-layer="layer1" /><defs
     id="defs1" /><g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"><path
       style="fill:#ffffff;fill-opacity:1;stroke-width:0.563268"
       d="M 48.698559,99.78402 C 47.094494,99.115584 46.549623,98.326793 44.988608,94.413254 41.789754,86.393598 41.416102,86.172442 31.062326,86.170723 23.954891,86.169746 22.589408,86.090942 20.471527,85.561125 12.471163,83.559723 6.1986821,76.325741 5.2552941,68.012407 4.9458051,65.285125 5.1325231,18.095832 5.4582341,16.723265 7.5419071,7.9425645 13.832361,1.6843604 22.004217,0.26211175 c 2.027652,-0.35289747 53.58716,-0.34784727 55.691924,0.005463 8.460051,1.42008865 15.333711,8.24079275 16.889311,16.75916825 0.43424,2.377896 0.4175,50.543013 -0.0183,52.602648 -1.69853,8.027672 -7.59185,14.193289 -15.30146,16.008432 -0.500456,0.117828 -1.111118,0.261714 -1.357019,0.319761 -0.245904,0.05804 -4.072252,0.146758 -8.503004,0.197159 -10.926006,0.124287 -11.420859,0.389658 -14.065998,7.543201 -1.584553,4.285285 -2.102695,5.154953 -3.499574,5.873814 -0.924287,0.475652 -2.288342,0.567822 -3.141559,0.212272 z M 54.212717,73.947866 C 66.450924,72.579168 78.341701,65.302295 82.424842,56.682717 85.567992,50.047449 79.083442,46.616653 75.035278,52.773108 63.9206,69.676346 36.41086,69.52111 25.003182,52.490778 22.759406,49.141084 20.445916,48.522395 18.088761,50.64168 c -5.819729,5.232437 7.038458,18.493822 21.517927,22.192666 4.469177,1.141672 10.347318,1.589809 14.606029,1.11352 z M 53.370655,50.623858 c 0.531218,-0.446993 0.584203,-0.654327 0.75439,-2.951975 0.152973,-2.065293 0.330205,-2.358002 1.876049,-3.098361 1.726703,-0.826985 2.065006,-0.719362 4.356955,1.386105 1.7131,1.573715 2.312168,1.462875 4.907072,-0.907896 2.869,-2.62119 2.997537,-3.303405 1.01876,-5.406868 -1.60101,-1.701878 -1.754191,-2.10938 -1.329926,-3.538025 0.482551,-1.624928 1.075289,-2.001088 3.308832,-2.099828 3.121664,-0.138006 3.313723,-0.399121 3.308801,-4.498371 -0.0051,-4.090502 -0.246678,-4.439621 -3.074543,-4.439621 -3.717377,0 -4.952945,-2.943082 -2.372726,-5.651749 1.967179,-2.065109 1.930353,-2.786963 -0.256873,-5.035058 -2.989375,-3.072563 -3.666975,-3.167906 -6.193457,-0.871461 -1.629303,1.480956 -2.290985,1.614991 -3.903702,0.790756 -1.387091,-0.708921 -1.491939,-0.912756 -1.703636,-3.311974 -0.272301,-3.0860716 -0.39728,-3.17915 -4.292401,-3.1968076 -3.775125,-0.017119 -3.962295,0.1286901 -4.13066,3.2178116 -0.114404,2.099042 -0.218496,2.332101 -1.383031,3.096506 -1.558115,1.022756 -2.447039,0.917689 -4.055699,-0.479364 -2.471745,-2.146606 -2.94353,-2.224054 -4.519692,-0.74197 -4.338318,4.079372 -4.309836,3.974689 -1.797586,6.60651 1.121297,1.174667 1.249133,1.485714 1.133715,2.758559 -0.186965,2.061883 -1.00259,2.695176 -3.621979,2.812286 -3.022738,0.135138 -3.245578,0.475769 -3.166847,4.840808 0.06831,3.787129 0.204289,3.950959 3.402,4.098694 2.303066,0.106406 2.733871,0.363763 3.379125,2.018652 0.518211,1.329059 0.206971,2.213867 -1.295244,3.68216 -2.175649,2.126524 -2.074762,2.651856 1.077562,5.611004 2.412801,2.26494 2.944024,2.290727 5.046258,0.244949 1.682967,-1.637775 2.253654,-1.759109 4.023404,-0.855433 1.543987,0.788386 1.647731,0.974076 1.784368,3.193677 0.193347,3.140844 0.121503,3.088696 4.266689,3.096926 3.001971,0.006 3.007113,0.0056 3.454022,-0.370642 z M 47.746592,37.799194 c -6.325086,-1.701032 -8.181994,-9.740041 -3.294959,-14.264682 5.371717,-4.973394 14.008473,-1.178922 14.008473,6.15448 0,5.51642 -5.336569,9.556241 -10.713514,8.110202 z m -25.304254,5.142834 c 2.756146,-0.76534 3.251418,-4.828053 0.792496,-6.500858 -2.625256,-1.785951 -6.1557,0.62324 -5.499281,3.75274 0.460422,2.195073 2.470978,3.368963 4.706785,2.748118 z m 57.936954,-0.01031 c 2.49176,-0.746551 3.16561,-4.104264 1.21511,-6.054766 -2.32825,-2.32825 -6.181333,-0.467146 -5.968035,2.882664 0.152038,2.387676 2.388713,3.880438 4.752925,3.172102 z M 23.0725,26.25674 c 3.090531,-1.910052 1.795756,-6.70188 -1.810885,-6.70188 -3.031281,0 -4.752497,3.162226 -3.102093,5.699173 0.960437,1.47636 3.35563,1.965203 4.912978,1.002707 z m 57.690172,0.06135 c 3.27463,-1.545476 2.26991,-6.504896 -1.3647,-6.73633 -2.223901,-0.141613 -3.794142,1.360229 -3.79781,3.632369 -0.0045,2.791088 2.559278,4.332567 5.16251,3.103961 z"
       id="path1" /></g></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OpenGM API Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Websocket Gateway
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="light-blue" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/groupme-js/GroupMeCommunityDocs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="OpenGM API Documentation" class="md-nav__button md-logo" aria-label="OpenGM API Documentation" data-md-component="logo">
      
  
  <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   width="100mm"
   height="100mm"
   viewBox="0 0 100 100"
   version="1.1"
   id="svg1"
   xml:space="preserve"
   inkscape:version="1.4 (86a8ad7, 2024-10-11)"
   sodipodi:docname="sprocket.svg"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg"><sodipodi:namedview
     id="namedview1"
     pagecolor="#505050"
     bordercolor="#eeeeee"
     borderopacity="1"
     inkscape:showpageshadow="0"
     inkscape:pageopacity="0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#505050"
     inkscape:document-units="mm"
     inkscape:zoom="0.46268224"
     inkscape:cx="880.73404"
     inkscape:cy="958.54122"
     inkscape:window-width="3072"
     inkscape:window-height="1796"
     inkscape:window-x="-12"
     inkscape:window-y="-12"
     inkscape:window-maximized="1"
     inkscape:current-layer="layer1" /><defs
     id="defs1" /><g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"><path
       style="fill:#ffffff;fill-opacity:1;stroke-width:0.563268"
       d="M 48.698559,99.78402 C 47.094494,99.115584 46.549623,98.326793 44.988608,94.413254 41.789754,86.393598 41.416102,86.172442 31.062326,86.170723 23.954891,86.169746 22.589408,86.090942 20.471527,85.561125 12.471163,83.559723 6.1986821,76.325741 5.2552941,68.012407 4.9458051,65.285125 5.1325231,18.095832 5.4582341,16.723265 7.5419071,7.9425645 13.832361,1.6843604 22.004217,0.26211175 c 2.027652,-0.35289747 53.58716,-0.34784727 55.691924,0.005463 8.460051,1.42008865 15.333711,8.24079275 16.889311,16.75916825 0.43424,2.377896 0.4175,50.543013 -0.0183,52.602648 -1.69853,8.027672 -7.59185,14.193289 -15.30146,16.008432 -0.500456,0.117828 -1.111118,0.261714 -1.357019,0.319761 -0.245904,0.05804 -4.072252,0.146758 -8.503004,0.197159 -10.926006,0.124287 -11.420859,0.389658 -14.065998,7.543201 -1.584553,4.285285 -2.102695,5.154953 -3.499574,5.873814 -0.924287,0.475652 -2.288342,0.567822 -3.141559,0.212272 z M 54.212717,73.947866 C 66.450924,72.579168 78.341701,65.302295 82.424842,56.682717 85.567992,50.047449 79.083442,46.616653 75.035278,52.773108 63.9206,69.676346 36.41086,69.52111 25.003182,52.490778 22.759406,49.141084 20.445916,48.522395 18.088761,50.64168 c -5.819729,5.232437 7.038458,18.493822 21.517927,22.192666 4.469177,1.141672 10.347318,1.589809 14.606029,1.11352 z M 53.370655,50.623858 c 0.531218,-0.446993 0.584203,-0.654327 0.75439,-2.951975 0.152973,-2.065293 0.330205,-2.358002 1.876049,-3.098361 1.726703,-0.826985 2.065006,-0.719362 4.356955,1.386105 1.7131,1.573715 2.312168,1.462875 4.907072,-0.907896 2.869,-2.62119 2.997537,-3.303405 1.01876,-5.406868 -1.60101,-1.701878 -1.754191,-2.10938 -1.329926,-3.538025 0.482551,-1.624928 1.075289,-2.001088 3.308832,-2.099828 3.121664,-0.138006 3.313723,-0.399121 3.308801,-4.498371 -0.0051,-4.090502 -0.246678,-4.439621 -3.074543,-4.439621 -3.717377,0 -4.952945,-2.943082 -2.372726,-5.651749 1.967179,-2.065109 1.930353,-2.786963 -0.256873,-5.035058 -2.989375,-3.072563 -3.666975,-3.167906 -6.193457,-0.871461 -1.629303,1.480956 -2.290985,1.614991 -3.903702,0.790756 -1.387091,-0.708921 -1.491939,-0.912756 -1.703636,-3.311974 -0.272301,-3.0860716 -0.39728,-3.17915 -4.292401,-3.1968076 -3.775125,-0.017119 -3.962295,0.1286901 -4.13066,3.2178116 -0.114404,2.099042 -0.218496,2.332101 -1.383031,3.096506 -1.558115,1.022756 -2.447039,0.917689 -4.055699,-0.479364 -2.471745,-2.146606 -2.94353,-2.224054 -4.519692,-0.74197 -4.338318,4.079372 -4.309836,3.974689 -1.797586,6.60651 1.121297,1.174667 1.249133,1.485714 1.133715,2.758559 -0.186965,2.061883 -1.00259,2.695176 -3.621979,2.812286 -3.022738,0.135138 -3.245578,0.475769 -3.166847,4.840808 0.06831,3.787129 0.204289,3.950959 3.402,4.098694 2.303066,0.106406 2.733871,0.363763 3.379125,2.018652 0.518211,1.329059 0.206971,2.213867 -1.295244,3.68216 -2.175649,2.126524 -2.074762,2.651856 1.077562,5.611004 2.412801,2.26494 2.944024,2.290727 5.046258,0.244949 1.682967,-1.637775 2.253654,-1.759109 4.023404,-0.855433 1.543987,0.788386 1.647731,0.974076 1.784368,3.193677 0.193347,3.140844 0.121503,3.088696 4.266689,3.096926 3.001971,0.006 3.007113,0.0056 3.454022,-0.370642 z M 47.746592,37.799194 c -6.325086,-1.701032 -8.181994,-9.740041 -3.294959,-14.264682 5.371717,-4.973394 14.008473,-1.178922 14.008473,6.15448 0,5.51642 -5.336569,9.556241 -10.713514,8.110202 z m -25.304254,5.142834 c 2.756146,-0.76534 3.251418,-4.828053 0.792496,-6.500858 -2.625256,-1.785951 -6.1557,0.62324 -5.499281,3.75274 0.460422,2.195073 2.470978,3.368963 4.706785,2.748118 z m 57.936954,-0.01031 c 2.49176,-0.746551 3.16561,-4.104264 1.21511,-6.054766 -2.32825,-2.32825 -6.181333,-0.467146 -5.968035,2.882664 0.152038,2.387676 2.388713,3.880438 4.752925,3.172102 z M 23.0725,26.25674 c 3.090531,-1.910052 1.795756,-6.70188 -1.810885,-6.70188 -3.031281,0 -4.752497,3.162226 -3.102093,5.699173 0.960437,1.47636 3.35563,1.965203 4.912978,1.002707 z m 57.690172,0.06135 c 3.27463,-1.545476 2.26991,-6.504896 -1.3647,-6.73633 -2.223901,-0.141613 -3.794142,1.360229 -3.79781,3.632369 -0.0045,2.791088 2.559278,4.332567 5.16251,3.103961 z"
       id="path1" /></g></svg>

    </a>
    OpenGM API Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/groupme-js/GroupMeCommunityDocs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../attachments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Attachments
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../bots/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Webhook Bots
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../calendar/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Calandar Events
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../directories/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Group Directories
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../dms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Direct Messages
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../emoji/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Emoji Powerups
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../events/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Message Events
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File Management
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../gallery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Image Galleries
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../groups/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Groups
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../images/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Image Service
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../likes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reactions
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../members/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Group Memberships
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../messages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Messages
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../oauth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Oauth / MFA Management
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../pins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pinned Messages
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../polls/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Polls
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Websocket Gateway
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Websocket Gateway
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#option-1-using-a-faye-client-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      Option 1: Using a Faye client (Recommended)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#option-2-pure-websockets" class="md-nav__link">
    <span class="md-ellipsis">
      Option 2: Pure WebSockets
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#option-3-manual-long-polling-over-http-not-recommended-but-still-possible" class="md-nav__link">
    <span class="md-ellipsis">
      Option 3: Manual Long-Polling over HTTP (Not Recommended, but still possible)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#websocket-message-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Websocket Message Structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-implementations" class="md-nav__link">
    <span class="md-ellipsis">
      Other Implementations
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../self/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Account Management
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../subtopics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Subtopics
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contacts
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../video/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Video Service
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/groupme-js/GroupMeCommunityDocs/edit/master/docs/push.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/groupme-js/GroupMeCommunityDocs/raw/master/docs/push.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="websockets-overview">WebSockets Overview<a class="headerlink" href="#websockets-overview" title="Permanent link">&para;</a></h1>
<p>GroupMe’s real-time messaging is powered by a <a href="https://faye.jcoglan.com/browser/subscribing.html">Faye-based Bayeux WebSocket protocol</a>. Clients subscribe to various channels and receive structured push messages.</p>
<p>GroupMe's <a href="https://dev.groupme.com/tutorials/push">official documentation</a> has some outdated and incomplete information, but it may be helpful to read alongside these docs.</p>
<p>WebSocket messages sent downstream to clients are divided into three channels, each with its own respective context and message types.</p>
<p>The most useful channel is <code>/user/:user_id</code>, which sends messages about new events that any client will send you push notifications about. 
(e.g., new messages in groups you're a part of or reactions attached to messages you have sent).</p>
<p>The other two less important channel types are <code>/groups/:group_id</code>, and <code>/direct_message/:dm_id</code>. 
Both send information about specific channels that a client wouldn't need to send push notifications for but would need to render the channel when it's open correctly and on the screen. 
(e.g., typing indicators, new reactions attached to other messages in the channel that you have not sent, or even membership and role updates for specific users)</p>
<p>Faye/Bayeux WebSocket clients exist in many languages (<a href="https://www.npmjs.com/package/faye">JavaScript</a>, <a href="https://rubygems.org/gems/faye-websocket/versions/0.10.4?locale=en">Ruby</a>, <a href="https://github.com/dkmadigan/python-bayeux-client">Python</a>, etc.), or you can implement the protocol manually.</p>
<p>For verbosity, we outline how to authenticate and connect using a Faye client library, in pure WebSockets (in case you don't have access to a library), and finally in pure HTTP to do manual long-polling.</p>
<hr />
<h2 id="option-1-using-a-faye-client-recommended">Option 1: Using a Faye client (Recommended)<a class="headerlink" href="#option-1-using-a-faye-client-recommended" title="Permanent link">&para;</a></h2>
<p>Start by initiating a connection with GroupMe's Faye server:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">faye</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;faye&#39;</span><span class="p">);</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="kd">const</span><span class="w"> </span><span class="nx">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">faye</span><span class="p">.</span><span class="nx">Client</span><span class="p">(</span><span class="s2">&quot;https://push.groupme.com/faye&quot;</span><span class="p">);</span>
</code></pre></div></td></tr></table></div></p>
<p>Next, we need to tell our Client to add our GroupMe API token to any subsequent subscription requests and subscribe to the main user channel:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="c1">// adds your API credentials to any &#39;subscribe&#39; request sent to GroupMe.</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="nx">client</span><span class="p">.</span><span class="nx">addExtension</span><span class="p">({</span><span class="w"> </span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="w">  </span><span class="nx">outgoing</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">msg</span><span class="p">,</span><span class="w"> </span><span class="nx">callback</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="w">    </span><span class="nx">msg</span><span class="p">.</span><span class="nx">ext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">msg</span><span class="p">.</span><span class="nx">ext</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">{};</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="w">    </span><span class="nx">msg</span><span class="p">.</span><span class="nx">ext</span><span class="p">.</span><span class="nx">access_token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&lt;YOUR GROUPME API ACCESS TOKEN&gt;&quot;</span><span class="p">;</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="w">    </span><span class="nx">msg</span><span class="p">.</span><span class="nx">ext</span><span class="p">.</span><span class="nx">timestamp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">1000</span><span class="p">);</span>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="w">    </span><span class="nx">callback</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="p">});</span>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="c1">// subscribe to the &#39;/user/:user_id&#39; channel.</span>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="nx">client</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="s2">&quot;/user/&lt;YOUR GROUPME USER ID&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">msg</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-1-13" name="__codelineno-1-13"></a><span class="w">  </span><span class="cm">/* Callback to run when a message is received */</span>
<a id="__codelineno-1-14" name="__codelineno-1-14"></a><span class="p">});</span>
</code></pre></div></td></tr></table></div></p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The <code>timestamp</code> parameter is in <em>seconds</em> since the Unix epoch, not milliseconds.</p>
</div>
<p>Finally, we subscribe to any other channels we need to:</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>This step is <em>usually</em> overkill. Almost all important real-time updates will come through the <code>/user/:user_id</code> channel. You will need to subscribe to individual groups or direct message channels if you want to catch read receipts or certain admin events.</p>
</div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span>
<span class="normal"><a href="#__codelineno-2-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="nx">client</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="s2">&quot;/group/&lt;GROUP ID&gt; OR /direct_message/&lt;DIRECT MESSAGE CHANNEL ID&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">msg</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="w">  </span><span class="cm">/* Callback to run when a message is received */</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="p">});</span>
</code></pre></div></td></tr></table></div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Direct Message channel IDs are reported within the REST API looking something like <code>74938777+93645911</code>, two user IDs separated with a <code>+</code>. However, for whatever reason, the WebSocket server only accepts DM channel IDs when they are separated using an underscore (<code>_</code>). Make sure to find and replace these symbols before attempting to subscribe to those channels.</p>
</div>
<hr />
<h2 id="option-2-pure-websockets">Option 2: Pure WebSockets<a class="headerlink" href="#option-2-pure-websockets" title="Permanent link">&para;</a></h2>
<p>If you're not using a Faye client library, you can still connect to GroupMe’s real-time Push Service by directly implementing the Bayeux protocol over WebSockets. This approach is transport-agnostic and works in any language that supports WebSockets and JSON.</p>
<blockquote>
<p>For complex steps (like subscription formatting), we’ll show JavaScript snippets to help illustrate what your code might look like.</p>
</blockquote>
<p><strong>Step 1: Perform the Handshake (via HTTP)</strong></p>
<p>Before opening a WebSocket, you must perform an initial handshake via HTTP to receive a <code>clientId</code>. This is a one-time HTTP POST request to the Bayeux endpoint.</p>
<p>Send a JSON array with a channel of <code>/meta/handshake</code>, the Bayeux version, and the supported connection types. You must include <code>"websocket"</code> in <code>supportedConnectionTypes</code>.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span>
<span class="normal"><a href="#__codelineno-3-3">3</a></span>
<span class="normal"><a href="#__codelineno-3-4">4</a></span>
<span class="normal"><a href="#__codelineno-3-5">5</a></span>
<span class="normal"><a href="#__codelineno-3-6">6</a></span>
<span class="normal"><a href="#__codelineno-3-7">7</a></span>
<span class="normal"><a href="#__codelineno-3-8">8</a></span>
<span class="normal"><a href="#__codelineno-3-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="err">POST</span><span class="w"> </span><span class="err">h</span><span class="kc">tt</span><span class="err">ps</span><span class="p">:</span><span class="c1">//push.groupme.com/faye</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="p">[</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;channel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/meta/handshake&quot;</span><span class="p">,</span>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;supportedConnectionTypes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;websocket&quot;</span><span class="p">],</span>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span>
<a id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-3-9" name="__codelineno-3-9"></a><span class="p">]</span>
</code></pre></div></td></tr></table></div>
<p>GroupMe will respond with a <code>clientId</code>, which you'll use for all future messages. The response also includes a list of supported transport types (confirm <code>"websocket"</code> is included), and an <code>advice</code> object for reconnection behavior.</p>
<p><strong>Step 2: Open a WebSocket to the Push Server</strong></p>
<p>Once you’ve received a valid <code>clientId</code>, initiate a WebSocket connection to:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="err">wss</span><span class="p">:</span><span class="c1">//push.groupme.com/faye</span>
</code></pre></div></td></tr></table></div>
<p>After connecting, begin sending JSON-encoded Bayeux messages directly over the socket.</p>
<p><strong>Step 3: Start the <code>/meta/connect</code> Loop</strong></p>
<p>Immediately after connecting, send a <code>/meta/connect</code> message to initiate the message delivery loop. This step essentially "registers" your client as ready to receive pushes.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span>
<span class="normal"><a href="#__codelineno-5-3">3</a></span>
<span class="normal"><a href="#__codelineno-5-4">4</a></span>
<span class="normal"><a href="#__codelineno-5-5">5</a></span>
<span class="normal"><a href="#__codelineno-5-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="p">{</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="err"> </span><span class="w"> </span><span class="nt">&quot;channel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/meta/connect&quot;</span><span class="p">,</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="err"> </span><span class="w"> </span><span class="nt">&quot;clientId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;YOUR CLIENT ID&gt;&quot;</span><span class="p">,</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="err"> </span><span class="w"> </span><span class="nt">&quot;connectionType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;websocket&quot;</span><span class="p">,</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="err"> </span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>This message must be sent repeatedly after each <code>/meta/connect</code> response — think of it as polling, but over a persistent socket.</p>
<p>In JavaScript, this could look like:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span>
<span class="normal"><a href="#__codelineno-6-3">3</a></span>
<span class="normal"><a href="#__codelineno-6-4">4</a></span>
<span class="normal"><a href="#__codelineno-6-5">5</a></span>
<span class="normal"><a href="#__codelineno-6-6">6</a></span>
<span class="normal"><a href="#__codelineno-6-7">7</a></span>
<span class="normal"><a href="#__codelineno-6-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">connect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="w">  </span><span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="w">    </span><span class="nx">channel</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;/meta/connect&quot;</span><span class="p">,</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="w">    </span><span class="nx">clientId</span><span class="p">,</span><span class="w"> </span><span class="c1">// &lt;YOUR CLIENT ID&gt;</span>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="w">    </span><span class="nx">connectionType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;websocket&quot;</span><span class="p">,</span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="w">    </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="nx">nextMessageId</span><span class="p">()</span>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="w"> </span><span class="p">}));</span>
<a id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="p">};</span>
</code></pre></div></td></tr></table></div>
<p>The server will respond with <code>successful: true</code> and may include an <code>advice</code> field specifying a <code>timeout</code> or <code>interval</code> before the next call.</p>
<p><strong>Step 4: Subscribe to Channels</strong></p>
<p>To receive push notifications, you must subscribe to the appropriate channel(s). Most useful real-time events will come through <code>/user/:user_id</code>.</p>
<p>Subscriptions require authentication: you must include your GroupMe API access token and a Unix timestamp (in seconds) in the <code>ext</code> field.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="p">{</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="err"> </span><span class="w"> </span><span class="nt">&quot;channel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/meta/subscribe&quot;</span><span class="p">,</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="err"> </span><span class="w"> </span><span class="nt">&quot;clientId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;YOUR CLIENT ID&gt;&quot;</span><span class="p">,</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="err"> </span><span class="w"> </span><span class="nt">&quot;subscription&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/user/&lt;YOUR GROUPME USER ID&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// alternatively, any other channel you&#39;d like to subscribe to</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="err"> </span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3&quot;</span><span class="p">,</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="err"> </span><span class="w"> </span><span class="nt">&quot;ext&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;access_token&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;YOUR API TOKEN&gt;&quot;</span><span class="p">,</span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1715700000</span>
<a id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>In JavaScript, constructing this might look like:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-8-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-8-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-8-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-8-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-8-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-8-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-8-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-8-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-8-10">10</a></span>
<span class="normal"><a href="#__codelineno-8-11">11</a></span>
<span class="normal"><a href="#__codelineno-8-12">12</a></span>
<span class="normal"><a href="#__codelineno-8-13">13</a></span>
<span class="normal"><a href="#__codelineno-8-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">subscribe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">channel</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="w">  </span><span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="w">    </span><span class="nx">channel</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;/meta/subscribe&quot;</span><span class="p">,</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="w">    </span><span class="nx">clientId</span><span class="p">,</span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="w">    </span><span class="nx">subscription</span><span class="o">:</span><span class="w"> </span><span class="nx">channel</span><span class="p">,</span>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="w">    </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="nx">nextMessageId</span><span class="p">(),</span>
<a id="__codelineno-8-7" name="__codelineno-8-7"></a><span class="w">    </span><span class="nx">ext</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="w">      </span><span class="nx">access_token</span><span class="o">:</span><span class="w"> </span><span class="nx">GROUPME_ACCESS_TOKEN</span><span class="p">,</span><span class="w"> </span><span class="c1">// &lt;YOUR GROUPME API ACCESS TOKEN&gt;</span>
<a id="__codelineno-8-9" name="__codelineno-8-9"></a><span class="w">      </span><span class="nx">timestamp</span><span class="o">:</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">1000</span><span class="p">)</span>
<a id="__codelineno-8-10" name="__codelineno-8-10"></a><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-8-11" name="__codelineno-8-11"></a><span class="w"> </span><span class="p">}));</span>
<a id="__codelineno-8-12" name="__codelineno-8-12"></a><span class="p">};</span>
<a id="__codelineno-8-13" name="__codelineno-8-13"></a>
<a id="__codelineno-8-14" name="__codelineno-8-14"></a><span class="nx">subscribe</span><span class="p">(</span><span class="sb">`/user/</span><span class="si">${</span><span class="nx">GROUPME_USER_ID</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span><span class="w"> </span><span class="c1">// &lt;YOUR GROUPME USER ID&gt;</span>
</code></pre></div></td></tr></table></div>
<p><strong>Step 5: Listen for Messages</strong></p>
<p>All incoming WebSocket messages will be JSON arrays of Bayeux-style messages. Each one will include:</p>
<ul>
<li>A <code>channel</code></li>
<li>A <code>data</code> payload</li>
<li>and potentially some metadata, like <code>id</code> or <code>clientId</code></li>
</ul>
<p>Example incoming message:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-9-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-9-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-9-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-9-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-9-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-9-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-9-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-9-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-9-10">10</a></span>
<span class="normal"><a href="#__codelineno-9-11">11</a></span>
<span class="normal"><a href="#__codelineno-9-12">12</a></span>
<span class="normal"><a href="#__codelineno-9-13">13</a></span>
<span class="normal"><a href="#__codelineno-9-14">14</a></span>
<span class="normal"><a href="#__codelineno-9-15">15</a></span>
<span class="normal"><a href="#__codelineno-9-16">16</a></span>
<span class="normal"><a href="#__codelineno-9-17">17</a></span>
<span class="normal"><a href="#__codelineno-9-18">18</a></span>
<span class="normal"><a href="#__codelineno-9-19">19</a></span>
<span class="normal"><a href="#__codelineno-9-20">20</a></span>
<span class="normal"><a href="#__codelineno-9-21">21</a></span>
<span class="normal"><a href="#__codelineno-9-22">22</a></span>
<span class="normal"><a href="#__codelineno-9-23">23</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="p">{</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="err"> </span><span class="w"> </span><span class="nt">&quot;channel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/user/185&quot;</span><span class="p">,</span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="err"> </span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;line.create&quot;</span><span class="p">,</span>
<a id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;subject&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Andygv&quot;</span><span class="p">,</span>
<a id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w">   </span><span class="nt">&quot;avatar_url&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
<a id="__codelineno-9-8" name="__codelineno-9-8"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w">   </span><span class="nt">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;lng&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="nt">&quot;foursquare_checkin&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="nt">&quot;foursquare_venue_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="nt">&quot;lat&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">},</span>
<a id="__codelineno-9-9" name="__codelineno-9-9"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w">   </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1322557919</span><span class="p">,</span>
<a id="__codelineno-9-10" name="__codelineno-9-10"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w">   </span><span class="nt">&quot;picture_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<a id="__codelineno-9-11" name="__codelineno-9-11"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w">   </span><span class="nt">&quot;system&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<a id="__codelineno-9-12" name="__codelineno-9-12"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w">   </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hey&quot;</span><span class="p">,</span>
<a id="__codelineno-9-13" name="__codelineno-9-13"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w">   </span><span class="nt">&quot;group_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1835&quot;</span><span class="p">,</span>
<a id="__codelineno-9-14" name="__codelineno-9-14"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w">   </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;15717&quot;</span><span class="p">,</span>
<a id="__codelineno-9-15" name="__codelineno-9-15"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w">   </span><span class="nt">&quot;user_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;162&quot;</span><span class="p">,</span>
<a id="__codelineno-9-16" name="__codelineno-9-16"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w">   </span><span class="nt">&quot;source_guid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;GUID 13225579210290&quot;</span>
<a id="__codelineno-9-17" name="__codelineno-9-17"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-9-18" name="__codelineno-9-18"></a><span class="err"> </span><span class="w"> </span><span class="nt">&quot;alert&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Andygv: hey&quot;</span>
<a id="__codelineno-9-19" name="__codelineno-9-19"></a><span class="p">},</span>
<a id="__codelineno-9-20" name="__codelineno-9-20"></a><span class="nt">&quot;clientId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1lhg38m0sk6b63080mpc71r9d7q1&quot;</span><span class="p">,</span>
<a id="__codelineno-9-21" name="__codelineno-9-21"></a><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;4uso9uuv78tg4l7csica1kc4c&quot;</span><span class="p">,</span>
<a id="__codelineno-9-22" name="__codelineno-9-22"></a><span class="nt">&quot;authenticated&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-9-23" name="__codelineno-9-23"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>In JS, you'd handle this with something like:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span>
<span class="normal"><a href="#__codelineno-10-3">3</a></span>
<span class="normal"><a href="#__codelineno-10-4">4</a></span>
<span class="normal"><a href="#__codelineno-10-5">5</a></span>
<span class="normal"><a href="#__codelineno-10-6">6</a></span>
<span class="normal"><a href="#__codelineno-10-7">7</a></span>
<span class="normal"><a href="#__codelineno-10-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="nx">socket</span><span class="p">.</span><span class="nx">onmessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">messages</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">const</span><span class="w"> </span><span class="nx">message</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">messages</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">channel</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="s2">&quot;/user/&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="w">      </span><span class="nx">handleUserMessage</span><span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<a id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-10-7" name="__codelineno-10-7"></a><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-10-8" name="__codelineno-10-8"></a><span class="p">};</span>
</code></pre></div></td></tr></table></div>
<p><strong>Step 6: Maintain the Connection Loop</strong></p>
<p>The <code>/meta/connect</code> message must be sent repeatedly. This acts as a heartbeat and delivery mechanism for future messages.</p>
<p>Follow the <code>advice.interval</code> and <code>advice.timeout</code> values returned in <code>/meta/connect</code> responses to avoid premature disconnection.</p>
<p><strong>Optional: Subscribing to Group or DM Channels</strong></p>
<p>You can also subscribe to <code>/group/:group_id</code> and <code>/direct_message/:direct_message_id</code> channels to get additional channel-specific messages that wouldn't usually buzz your phone, like typing indicators.</p>
<p>To do this: repeat step 4 as many times as necessary, setting the <code>subscription</code> parameter to whatever channel you're interested in.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Please note that when subscribing to DM channels, you must replace the <code>+</code> in the conversation ID (as it appears in the REST API) with an <code>_</code> instead. We're not entirely sure why this inconsistency exists, but it does.</p>
</div>
<hr />
<h2 id="option-3-manual-long-polling-over-http-not-recommended-but-still-possible">Option 3: Manual Long-Polling over HTTP (Not Recommended, but still possible)<a class="headerlink" href="#option-3-manual-long-polling-over-http-not-recommended-but-still-possible" title="Permanent link">&para;</a></h2>
<p>Start by establishing a connection with GroupMe's Faye server.</p>
<p>Send a POST request to <code>https://push.groupme.com/faye</code>. It should look like this:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span>
<span class="normal"><a href="#__codelineno-11-2">2</a></span>
<span class="normal"><a href="#__codelineno-11-3">3</a></span>
<span class="normal"><a href="#__codelineno-11-4">4</a></span>
<span class="normal"><a href="#__codelineno-11-5">5</a></span>
<span class="normal"><a href="#__codelineno-11-6">6</a></span>
<span class="normal"><a href="#__codelineno-11-7">7</a></span>
<span class="normal"><a href="#__codelineno-11-8">8</a></span>
<span class="normal"><a href="#__codelineno-11-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="err">POST</span><span class="w"> </span><span class="err">h</span><span class="kc">tt</span><span class="err">ps</span><span class="p">:</span><span class="c1">//push.groupme.com/faye</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="p">[</span>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;channel&quot;</span><span class="p">:</span><span class="s2">&quot;/meta/handshake&quot;</span><span class="p">,</span>
<a id="__codelineno-11-5" name="__codelineno-11-5"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
<a id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;supportedConnectionTypes&quot;</span><span class="p">:[</span><span class="s2">&quot;long-polling&quot;</span><span class="p">],</span>
<a id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span>
<a id="__codelineno-11-8" name="__codelineno-11-8"></a><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-11-9" name="__codelineno-11-9"></a><span class="p">]</span>
</code></pre></div></td></tr></table></div>
<p>The response should look something like:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-12-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-12-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-12-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-12-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-12-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-12-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-12-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-12-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-12-10">10</a></span>
<span class="normal"><a href="#__codelineno-12-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="p">[</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;channel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/meta/handshake&quot;</span><span class="p">,</span>
<a id="__codelineno-12-5" name="__codelineno-12-5"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;successful&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-12-6" name="__codelineno-12-6"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
<a id="__codelineno-12-7" name="__codelineno-12-7"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;supportedConnectionTypes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;long-polling&quot;</span><span class="p">,</span><span class="s2">&quot;cross-origin-long-polling&quot;</span><span class="p">,</span><span class="s2">&quot;callback-polling&quot;</span><span class="p">,</span><span class="s2">&quot;websocket&quot;</span><span class="p">,</span><span class="s2">&quot;in-process&quot;</span><span class="p">],</span>
<a id="__codelineno-12-8" name="__codelineno-12-8"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;clientId&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;IMPORTANT</span><span class="w"> </span><span class="err">CLIENT</span><span class="w"> </span><span class="err">ID&gt;</span><span class="p">,</span>
<a id="__codelineno-12-9" name="__codelineno-12-9"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;advice&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;reconnect&quot;</span><span class="p">:</span><span class="s2">&quot;retry&quot;</span><span class="p">,</span><span class="nt">&quot;interval&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;timeout&quot;</span><span class="p">:</span><span class="mi">30000</span><span class="p">}</span>
<a id="__codelineno-12-10" name="__codelineno-12-10"></a><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-12-11" name="__codelineno-12-11"></a><span class="p">]</span>
</code></pre></div></td></tr></table></div></p>
<p>Note the <code>clientId</code> value we've just received, as we will need it in the next step.</p>
<p>In order to subscribe to channels we need to send another POST request with the following body, inserting the <code>ClientId</code> value we got from the last request in step one.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-13-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-13-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-13-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-13-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-13-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-13-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-13-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-13-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-13-10">10</a></span>
<span class="normal"><a href="#__codelineno-13-11">11</a></span>
<span class="normal"><a href="#__codelineno-13-12">12</a></span>
<span class="normal"><a href="#__codelineno-13-13">13</a></span>
<span class="normal"><a href="#__codelineno-13-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="err">POST</span><span class="w"> </span><span class="err">h</span><span class="kc">tt</span><span class="err">ps</span><span class="p">:</span><span class="c1">//push.groupme.com/faye</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="p">[</span>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;channel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/meta/subscribe&quot;</span><span class="p">,</span>
<a id="__codelineno-13-5" name="__codelineno-13-5"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;clientId&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;CLIENT</span><span class="w"> </span><span class="err">ID&gt;</span><span class="p">,</span>
<a id="__codelineno-13-6" name="__codelineno-13-6"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;subscription&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/user/&lt;YOUR GROUPME USER ID&gt;&quot;</span><span class="p">,</span>
<a id="__codelineno-13-7" name="__codelineno-13-7"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<a id="__codelineno-13-8" name="__codelineno-13-8"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;ext&quot;</span><span class="p">:</span>
<a id="__codelineno-13-9" name="__codelineno-13-9"></a><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-10" name="__codelineno-13-10"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;access_token&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;YOUR GROUPME API ACCESS TOKEN&gt;&quot;</span><span class="p">,</span>
<a id="__codelineno-13-11" name="__codelineno-13-11"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;CURRENT</span><span class="w"> </span><span class="err">TIMESTAMP&gt;</span>
<a id="__codelineno-13-12" name="__codelineno-13-12"></a><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-13-13" name="__codelineno-13-13"></a><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-13-14" name="__codelineno-13-14"></a><span class="p">]</span>
</code></pre></div></td></tr></table></div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<ol>
<li>The <code>id</code> parameter should increment with each successive call to the server. Not doing so may lead to undefined behavior.&gt;</li>
</ol>
</div>
<blockquote>
<ol>
<li>The <code>timestamp</code> parameter is in seconds since the Unix epoch. Divide whatever timestamp you have by 1000.</li>
</ol>
</blockquote>
<p>GroupMe's response should look something like this:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1">1</a></span>
<span class="normal"><a href="#__codelineno-14-2">2</a></span>
<span class="normal"><a href="#__codelineno-14-3">3</a></span>
<span class="normal"><a href="#__codelineno-14-4">4</a></span>
<span class="normal"><a href="#__codelineno-14-5">5</a></span>
<span class="normal"><a href="#__codelineno-14-6">6</a></span>
<span class="normal"><a href="#__codelineno-14-7">7</a></span>
<span class="normal"><a href="#__codelineno-14-8">8</a></span>
<span class="normal"><a href="#__codelineno-14-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="p">[</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<a id="__codelineno-14-4" name="__codelineno-14-4"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;clientId&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;CLIENT</span><span class="w"> </span><span class="err">ID&gt;</span><span class="p">,</span>
<a id="__codelineno-14-5" name="__codelineno-14-5"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;channel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/meta/subscribe&quot;</span><span class="p">,</span>
<a id="__codelineno-14-6" name="__codelineno-14-6"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;successful&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-14-7" name="__codelineno-14-7"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;subscription&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/user/&lt;YOUR GROUPME USER ID&gt;&quot;</span>
<a id="__codelineno-14-8" name="__codelineno-14-8"></a><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-14-9" name="__codelineno-14-9"></a><span class="p">]</span>
</code></pre></div></td></tr></table></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>This step is <em>usually</em> overkill. Almost all important real-time updates will come through the <code>/user/:user_id</code> channel. You will need to subscribe to individual groups or direct message channels if you want to catch read receipts or certain admin events.</p>
</div>
<p>The POST request for subscribing to a specific channel looks like this (Note that it is basically exactly the same except for a different subscription channel):</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-15-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-15-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-15-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-15-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-15-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-15-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-15-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-15-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-15-10">10</a></span>
<span class="normal"><a href="#__codelineno-15-11">11</a></span>
<span class="normal"><a href="#__codelineno-15-12">12</a></span>
<span class="normal"><a href="#__codelineno-15-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="err">POST</span><span class="w"> </span><span class="err">h</span><span class="kc">tt</span><span class="err">ps</span><span class="p">:</span><span class="c1">//push.groupme.com/faye</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="p">[</span>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-4" name="__codelineno-15-4"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;channel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/meta/subscribe&quot;</span><span class="p">,</span>
<a id="__codelineno-15-5" name="__codelineno-15-5"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;clientId&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;CLIENT</span><span class="w"> </span><span class="err">ID&gt;</span><span class="p">,</span>
<a id="__codelineno-15-6" name="__codelineno-15-6"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;subscription&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/group/&lt;GROUP ID&gt;&quot;</span><span class="w"> </span><span class="err">OR</span><span class="w"> </span><span class="s2">&quot;/direct_message/&lt;DIRECT MESSAGE CHANNEL ID&gt;&quot;</span><span class="p">,</span>
<a id="__codelineno-15-7" name="__codelineno-15-7"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<a id="__codelineno-15-8" name="__codelineno-15-8"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;ext&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-9" name="__codelineno-15-9"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;access_token&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;YOUR GROUPME API ACCESS TOKEN&gt;&quot;</span><span class="p">,</span>
<a id="__codelineno-15-10" name="__codelineno-15-10"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;CURRENT</span><span class="w"> </span><span class="err">TIMESTAMP&gt;</span>
<a id="__codelineno-15-11" name="__codelineno-15-11"></a><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-15-12" name="__codelineno-15-12"></a><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-15-13" name="__codelineno-15-13"></a><span class="p">]</span>
</code></pre></div></td></tr></table></div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Direct Message channel IDs are reported within the REST API looking something like <code>74938777+93645911</code>, two user IDs separated with a <code>+</code>. However, for whatever reason, the WebSocket server only accepts DM channel IDs when they are separated using an underscore (<code>_</code>). Make sure to find and replace these symbols before attempting to subscribe to those channels.</p>
</div>
<p>This step is already handled for you by most Faye libraries. However, if you're doing this manually via HTTP and not WebSockets, you will need to manually check for updates from the Faye server.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span>
<span class="normal"><a href="#__codelineno-16-2">2</a></span>
<span class="normal"><a href="#__codelineno-16-3">3</a></span>
<span class="normal"><a href="#__codelineno-16-4">4</a></span>
<span class="normal"><a href="#__codelineno-16-5">5</a></span>
<span class="normal"><a href="#__codelineno-16-6">6</a></span>
<span class="normal"><a href="#__codelineno-16-7">7</a></span>
<span class="normal"><a href="#__codelineno-16-8">8</a></span>
<span class="normal"><a href="#__codelineno-16-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="err">POST</span><span class="w"> </span><span class="err">h</span><span class="kc">tt</span><span class="err">ps</span><span class="p">:</span><span class="c1">//push.groupme.com/faye</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="p">[</span>
<a id="__codelineno-16-3" name="__codelineno-16-3"></a><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-4" name="__codelineno-16-4"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;channel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/meta/connect&quot;</span><span class="p">,</span>
<a id="__codelineno-16-5" name="__codelineno-16-5"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;clientId&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;CLIENT</span><span class="w"> </span><span class="err">ID&gt;</span><span class="p">,</span>
<a id="__codelineno-16-6" name="__codelineno-16-6"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;connectionType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;long-polling&quot;</span><span class="p">,</span>
<a id="__codelineno-16-7" name="__codelineno-16-7"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3&quot;</span>
<a id="__codelineno-16-8" name="__codelineno-16-8"></a><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-16-9" name="__codelineno-16-9"></a><span class="p">]</span>
</code></pre></div></td></tr></table></div>
<p>If GroupMe has nothing to report, it will respond with an array of placeholder objects for each of the channels you're subscribed to. That would look something like this:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-17-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-17-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-17-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-17-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-17-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-17-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-17-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-17-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-17-10">10</a></span>
<span class="normal"><a href="#__codelineno-17-11">11</a></span>
<span class="normal"><a href="#__codelineno-17-12">12</a></span>
<span class="normal"><a href="#__codelineno-17-13">13</a></span>
<span class="normal"><a href="#__codelineno-17-14">14</a></span>
<span class="normal"><a href="#__codelineno-17-15">15</a></span>
<span class="normal"><a href="#__codelineno-17-16">16</a></span>
<span class="normal"><a href="#__codelineno-17-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="p">[</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;4&quot;</span><span class="p">,</span>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;clientId&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;CLIENT</span><span class="w"> </span><span class="err">ID&gt;</span><span class="p">,</span>
<a id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;channel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/meta/connect&quot;</span><span class="p">,</span>
<a id="__codelineno-17-6" name="__codelineno-17-6"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;successful&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-17-7" name="__codelineno-17-7"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;advice&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;reconnect&quot;</span><span class="p">:</span><span class="s2">&quot;retry&quot;</span><span class="p">,</span><span class="nt">&quot;interval&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;timeout&quot;</span><span class="p">:</span><span class="mi">30000</span><span class="p">}</span>
<a id="__codelineno-17-8" name="__codelineno-17-8"></a><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-17-9" name="__codelineno-17-9"></a><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-10" name="__codelineno-17-10"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;channel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/user/&lt;YOUR GROUPME USER ID&gt;&quot;</span><span class="p">,</span>
<a id="__codelineno-17-11" name="__codelineno-17-11"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;ping&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span>
<a id="__codelineno-17-12" name="__codelineno-17-12"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;clientId&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;CLIENT</span><span class="w"> </span><span class="err">ID&gt;</span><span class="p">,</span>
<a id="__codelineno-17-13" name="__codelineno-17-13"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5&quot;</span><span class="p">,</span>
<a id="__codelineno-17-14" name="__codelineno-17-14"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;ext&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;access_token&quot;</span><span class="p">:</span><span class="s2">&quot;&lt;access token&gt;&quot;</span><span class="p">,</span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="mi">1322557872</span><span class="p">},</span>
<a id="__codelineno-17-15" name="__codelineno-17-15"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;authenticated&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-17-16" name="__codelineno-17-16"></a><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-17-17" name="__codelineno-17-17"></a><span class="p">]</span>
</code></pre></div></td></tr></table></div>
<p>If there is something to report, GroupMe will respond with something that might look like this:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-18-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-18-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-18-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-18-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-18-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-18-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-18-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-18-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-18-10">10</a></span>
<span class="normal"><a href="#__codelineno-18-11">11</a></span>
<span class="normal"><a href="#__codelineno-18-12">12</a></span>
<span class="normal"><a href="#__codelineno-18-13">13</a></span>
<span class="normal"><a href="#__codelineno-18-14">14</a></span>
<span class="normal"><a href="#__codelineno-18-15">15</a></span>
<span class="normal"><a href="#__codelineno-18-16">16</a></span>
<span class="normal"><a href="#__codelineno-18-17">17</a></span>
<span class="normal"><a href="#__codelineno-18-18">18</a></span>
<span class="normal"><a href="#__codelineno-18-19">19</a></span>
<span class="normal"><a href="#__codelineno-18-20">20</a></span>
<span class="normal"><a href="#__codelineno-18-21">21</a></span>
<span class="normal"><a href="#__codelineno-18-22">22</a></span>
<span class="normal"><a href="#__codelineno-18-23">23</a></span>
<span class="normal"><a href="#__codelineno-18-24">24</a></span>
<span class="normal"><a href="#__codelineno-18-25">25</a></span>
<span class="normal"><a href="#__codelineno-18-26">26</a></span>
<span class="normal"><a href="#__codelineno-18-27">27</a></span>
<span class="normal"><a href="#__codelineno-18-28">28</a></span>
<span class="normal"><a href="#__codelineno-18-29">29</a></span>
<span class="normal"><a href="#__codelineno-18-30">30</a></span>
<span class="normal"><a href="#__codelineno-18-31">31</a></span>
<span class="normal"><a href="#__codelineno-18-32">32</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="p">[</span>
<a id="__codelineno-18-2" name="__codelineno-18-2"></a><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-18-3" name="__codelineno-18-3"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5&quot;</span><span class="p">,</span>
<a id="__codelineno-18-4" name="__codelineno-18-4"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;clientId&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;CLIENT</span><span class="w"> </span><span class="err">ID&gt;</span><span class="p">,</span>
<a id="__codelineno-18-5" name="__codelineno-18-5"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;channel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/meta/connect&quot;</span><span class="p">,</span>
<a id="__codelineno-18-6" name="__codelineno-18-6"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;successful&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-18-7" name="__codelineno-18-7"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;advice&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;reconnect&quot;</span><span class="p">:</span><span class="s2">&quot;retry&quot;</span><span class="p">,</span><span class="nt">&quot;interval&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;timeout&quot;</span><span class="p">:</span><span class="mi">30000</span><span class="p">}</span>
<a id="__codelineno-18-8" name="__codelineno-18-8"></a><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-18-9" name="__codelineno-18-9"></a><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-18-10" name="__codelineno-18-10"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;channel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/user/&lt;YOUR GROUPME USER ID&gt;&quot;</span><span class="p">,</span>
<a id="__codelineno-18-11" name="__codelineno-18-11"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-18-12" name="__codelineno-18-12"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;line.create&quot;</span><span class="p">,</span>
<a id="__codelineno-18-13" name="__codelineno-18-13"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;subject&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-18-14" name="__codelineno-18-14"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Andygv&quot;</span><span class="p">,</span>
<a id="__codelineno-18-15" name="__codelineno-18-15"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;avatar_url&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
<a id="__codelineno-18-16" name="__codelineno-18-16"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;lng&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="nt">&quot;foursquare_checkin&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="nt">&quot;foursquare_venue_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="nt">&quot;lat&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">},</span>
<a id="__codelineno-18-17" name="__codelineno-18-17"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1322557919</span><span class="p">,</span>
<a id="__codelineno-18-18" name="__codelineno-18-18"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;picture_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<a id="__codelineno-18-19" name="__codelineno-18-19"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;system&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<a id="__codelineno-18-20" name="__codelineno-18-20"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hey&quot;</span><span class="p">,</span>
<a id="__codelineno-18-21" name="__codelineno-18-21"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;group_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1835&quot;</span><span class="p">,</span>
<a id="__codelineno-18-22" name="__codelineno-18-22"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;15717&quot;</span><span class="p">,</span>
<a id="__codelineno-18-23" name="__codelineno-18-23"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;user_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;162&quot;</span><span class="p">,</span>
<a id="__codelineno-18-24" name="__codelineno-18-24"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;source_guid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;GUID 13225579210290&quot;</span>
<a id="__codelineno-18-25" name="__codelineno-18-25"></a><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-18-26" name="__codelineno-18-26"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;alert&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Andygv: hey&quot;</span>
<a id="__codelineno-18-27" name="__codelineno-18-27"></a><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-18-28" name="__codelineno-18-28"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;clientId&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;CLIENT</span><span class="w"> </span><span class="err">ID&gt;</span><span class="p">,</span>
<a id="__codelineno-18-29" name="__codelineno-18-29"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;4uso9uuv78tg4l7csica1kc4c&quot;</span><span class="p">,</span>
<a id="__codelineno-18-30" name="__codelineno-18-30"></a><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="nt">&quot;authenticated&quot;</span><span class="p">:</span><span class="kc">true</span>
<a id="__codelineno-18-31" name="__codelineno-18-31"></a><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-18-32" name="__codelineno-18-32"></a><span class="p">]</span>
</code></pre></div></td></tr></table></div>
<hr />
<h2 id="websocket-message-structure">Websocket Message Structure<a class="headerlink" href="#websocket-message-structure" title="Permanent link">&para;</a></h2>
<p>When your client is connected to the GroupMe WebSocket server and subscribed to channels, you will receive messages. These messages follow the Bayeux protocol, and the core information is typically found within the data object of the incoming Faye message.</p>
<p>The most important field within data is data.type, which indicates the kind of event that has occurred.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-19-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-19-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-19-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-19-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-19-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-19-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-19-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-19-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-19-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="c1">// General structure of an incoming Faye message</span>
<a id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="p">{</span>
<a id="__codelineno-19-3" name="__codelineno-19-3"></a><span class="w">  </span><span class="nt">&quot;channel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/user/:your_user_id&quot;</span><span class="w"> </span><span class="err">||</span><span class="w"> </span><span class="s2">&quot;/group/:group_id&quot;</span><span class="w"> </span><span class="err">||</span><span class="w"> </span><span class="s2">&quot;/direct_message/:direct_message_id&quot;</span><span class="p">,</span>
<a id="__codelineno-19-4" name="__codelineno-19-4"></a><span class="w">  </span><span class="nt">&quot;clientId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Faye client ID&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// this was documented in the steps for connecting to the websocket above</span>
<a id="__codelineno-19-5" name="__codelineno-19-5"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Incrementing Faye message ID&quot;</span><span class="p">,</span>
<a id="__codelineno-19-6" name="__codelineno-19-6"></a><span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-7" name="__codelineno-19-7"></a><span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ping&quot;</span><span class="w"> </span><span class="err">||</span><span class="w"> </span><span class="s2">&quot;line.create&quot;</span><span class="w"> </span><span class="err">||</span><span class="w"> </span><span class="s2">&quot;like.create&quot;</span><span class="w"> </span><span class="err">e</span><span class="kc">t</span><span class="err">c...</span><span class="p">,</span>
<a id="__codelineno-19-8" name="__codelineno-19-8"></a><span class="w">    </span><span class="c1">// The rest of the data object. These properties depend on the `type` parameter</span>
<a id="__codelineno-19-9" name="__codelineno-19-9"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-19-10" name="__codelineno-19-10"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>ping</code> - A keep-alive message. You don't usually have to bother handling these.</li>
<li><code>line.create</code> - A message was sent in a channel you participate in. This is the most common type of message, and includes many events that normally send system messages.</li>
<li><code>like.create</code> - Someone reacted to one of your messages.</li>
</ul>
<p>Messages specific to a group or direct message channel include: </p>
<ul>
<li><code>favorite</code> - Someone likes a message that is not yours.</li>
<li><code>direct_message.create</code> - <code>line.create</code>, but for DM channels.</li>
<li><code>message.deleted</code> - A message was deleted.</li>
<li><code>message.update</code> - A message was edited.</li>
<li><code>typing</code> - Someone started typing.</li>
</ul>
<p>As far as we're aware, clients only send two types of messages upstream besides subscriptions. Those types are:</p>
<ul>
<li><code>typing</code> - Used to initiate a typing indicator in a channel, these are good for 5 seconds and then must be resent to keep the indicator alive.</li>
<li><code>ping</code> - A keep-alive or presence message, can be used to measure websocket latency.</li>
</ul>
<hr />
<h2 id="other-implementations">Other Implementations<a class="headerlink" href="#other-implementations" title="Permanent link">&para;</a></h2>
<p>For those curious here are some other working implementations beyond the scope of the example posted in these docs:</p>
<ul>
<li>
<p><a href="https://github.com/2CATteam/gmuserbot/blob/master/bot.js">My bot, Lowes.</a> I'm sure I stole this working code from
  somewhere, but I can't for the life of me figure out where.</p>
</li>
<li>
<p><a href="https://github.com/cuuush/groupme-push">groupme_push</a>, a GroupMe push implementation in Python.</p>
</li>
<li>
<p><a href="https://github.com/njoubert/node-groupme/blob/master/lib/IncomingStream.js">The GroupMe npm package</a></p>
</li>
</ul>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="July 1, 2025 21:04:43 UTC">July 1, 2025</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="February 22, 2021 00:15:30 UTC">February 22, 2021</span>
  </span>

    
    
    
      
  <span class="md-source-file__fact">
    
      
  <span class="md-icon" title="Contributors">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg>
  </span>
  <span>GitHub</span>

    
    <nav>
      
        <a href="https://github.com/AlureonTheVirus" class="md-author" title="@AlureonTheVirus">
          
          <img src="https://avatars.githubusercontent.com/u/82665946?v=4&size=72" alt="AlureonTheVirus">
        </a>
      
        <a href="https://github.com/web-flow" class="md-author" title="@web-flow">
          
          <img src="https://avatars.githubusercontent.com/u/19864447?v=4&size=72" alt="web-flow">
        </a>
      
      
      
    </nav>
  </span>

    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../polls/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Polls">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Polls
              </div>
            </div>
          </a>
        
        
          
          <a href="../self/" class="md-footer__link md-footer__link--next" aria-label="Next: Account Management">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Account Management
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 - OpenGM Project
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.action.edit", "content.action.view", "navigation.instant", "navigation.instant.progress", "navigation.top", "navigation.sections", "toc.integrate", "search.suggest", "search.share", "navigation.footer", "content.code.copy", "header.autohide", "announce.dismiss"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>